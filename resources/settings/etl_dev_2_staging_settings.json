{
	"work_queue": {
		"name": "ekyle-etl",
		"$ref":"file://~/private.json#aws_credentials"
	},
	"param": {
		"threads": 1,
		"wait_forever": true,
		"keep_unknown_on_queue": true
	},
	"constants":{
		"pyLibrary.env.http.default_headers":{"From":"https://wiki.mozilla.org/Auto-tools/Projects/ActiveData"}
	},
	"workers": [
//		{
//			"name": "pulse2unittest",
//			"source": {
//				"$ref":"file://~/private.json#aws_credentials",
//				"bucket": "ekyle-pulse-logger"
//			},
//			"destination": {
//				"$ref":"file://~/private.json#aws_credentials",
//				"bucket": "ekyle-unittest",
//				"public":true
//			},
//			"transformer": "testlog_etl.transforms.pulse_block_to_unittest_logs.process_pulse_block",
//			"type": "join"
//		},
		{
			"name": "pulse2talos",
			"source": {
				"$ref":"file://~/private.json#aws_credentials",
				"bucket": "ekyle-pulse-logger"
			},
			"destination": {
				"$ref":"file://~/private.json#aws_credentials",
				"bucket": "ekyle-talos",
				"public":true
			},
			"transformer": "testlog_etl.transforms.pulse_block_to_talos_logs.process_talos",
			"type": "join"
		},
//		{
//		"name": "unittest2es",
//		"source": {
//			"$ref":"file://~/private.json#aws_credentials",
//			"bucket": "ekyle-unittest"
//		},
//		"destination":	{
//				"host" : "http://54.148.242.195",
//				"port" : 9200,
//				"index" : "unittest",
//				"type" : "test_results",
//				"timeout" : 300,
//				"schema" : {"$ref": "//../schema/test_results.json"},
//				"debug": true,
//				"limit_replicas": true
//			},
//		"transformer": "testlog_etl.transforms.unittest_logs_to_es.process_unittest",
//		"type": "join"
//	},
	],
	"debug": {
		"trace": true,
//		"cprofile": {
//			"enabled":true,
//			"filename":"./results/profile.tab"
//		},
		"log": [
			{"log_type":"console"},
			{
				"class": "logging.handlers.RotatingFileHandler",
				"filename": "./results/logs/etl.log",
				"maxBytes": 10000000,
				"backupCount": 100,
				"encoding": "utf8"
			}
		]
	}
}
